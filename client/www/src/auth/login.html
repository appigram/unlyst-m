<ion-view>
  <ion-content class="padding-top">
    <div ng-show="authData==null">
      <h4 class="text-center gray">Log in with a social account or email address</h4>
      <div class="text-center padding-top">
        <md-button class="md-raised icon-left ion-social-facebook md-primary" ng-click="facebookLogin()"
                   style="background: #4c66a4;width:10em;">
          Facebook
        </md-button>
      </div>
      <div class="text-center padding-top">
        <md-button class="md-raised icon-left ion-social-twitter md-primary" ng-click="twitterLogin()"
                   style="background: #4099FF; width:10em;">
          Twitter
        </md-button>
      </div>
      <div class="text-center padding-top">
        <md-button class="md-raised icon-left ion-social-google md-primary" ng-click="googleLogin()"
                   style="background: #dd4b39; width:10em;">
          Google+
        </md-button>
      </div>
      <form name="loginForm">
        <md-input-container>
          <label>Email</label>
          <input ng-model="user.email" label="Email" name="email" required ng-pattern="EMAIL_REGEXP">
          <div ng-messages="loginForm.email.$error" ng-if="(loginForm.email.$dirty || submitted)">
            <div ng-message="required">Required.</div>
            <div ng-message="pattern">Not a valid email.</div>
          </div>

        </md-input-container>
        <md-input-container>
          <label>Password</label>
          <input ng-model="user.password" type="password" name="password" minlength="6" required>
          <div ng-messages="loginForm.password.$error" ng-if='loginForm.password.$dirty || submitted'>
            <div ng-message="required">Required.</div>
            <div ng-message="minlength">Must be more than 6 characters long.</div>
          </div>
        </md-input-container>
        <div class="padding text-center">
          <md-button class="md-raised md-warn" ng-click="signIn(user,loginForm.$valid)">
            Log in
          </md-button>
          <h4 class="text-center gray-light">
            <div>Or</div>
            <md-button type="submit" ui-sref="register" class="md-flat" style="padding:5px !important;font-weight: bold;color:black">
              Sign up
            </md-button>
            &nbsp;with your email address
          </h4>
        </div>
      </form>
    </div>
    <div class="text-center" ng-show="authData!=null">
      <h3>Welcome {{ authData.userDisplayName }}!</h3>
      <div class="padding">
        <img width="80px" ng-src="{{authData.userProfilePicture}}"/>
      </div>
      <h4>Your reputation: {{ authData.reputation | number: 0}}</h4>
      <md-button class="md-raised gray-light" ng-click="logout()">
        Log out
      </md-button>
    </div>
  </ion-content>
</ion-view>